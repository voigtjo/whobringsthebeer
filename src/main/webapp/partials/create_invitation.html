<div ng-controller="CreateInvitationCtrl">
	<div class="row">
		<div class="col-lg-12">
			<div id="messages" class="alert alert-{{alertStatus}}"
				ng-show="messages">
				<span ng-bind="messages"></span> <i
					class="dismiss-messages pull-right glyphicon glyphicon-remove"
					ng-click="messages = ''" ng-show="messages"></i>
			</div>
			<img class="spinner" src="/img/ajax-loader.gif" ng-show="loading" />
		</div>
	</div>
	<div class="row" ng-init="init()">
		<div class="col-md-8">
			<h3>Create an event invitation</h3>

			<form name="invitationForm" novalidate role="form">
				<div class="form-group">
					<label for="event">Select Event</label> <select id="event"
						ng-model="event" ng-click="setWebsafeEventKey()" name="event"
						ng-options="event.location for event in events" class="form-control">
					</select>
				</div>
				
				<div class="form-group" ng-controller="DatepickerCtrl">
                    <label for="invitationDate">Invitation Date</label>
                    <p class="input-group">
                        <input id="invitationDate" type="text" class="form-control" datepicker-popup="{{format}}"
                               ng-model="invitation.invitationDate" is-open="opened"
                               datepicker-options="dateOptions"
                               close-text="Close"/>
                    <span class="input-group-btn">
                        <button class="btn btn-default" ng-click="open($event)"><i
                                class="glyphicon glyphicon-calendar"></i>
                        </button>
                    </span>
                    </p>
                </div>
                
				<button ng-click="saveInvitation(invitationForm)" class="btn btn-primary"
					ng-disabled="!isValidInvitation(invitationForm) || loading">Create</button>
			</form>
		</div>
	</div>
</div>