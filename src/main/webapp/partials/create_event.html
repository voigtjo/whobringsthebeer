<div ng-controller="CreateEventCtrl">
	<div class="row">
		<div class="col-lg-12">
			<div id="messages" class="alert alert-{{alertStatus}}"
				ng-show="messages">
				<span ng-bind="messages"></span> <i
					class="dismiss-messages pull-right glyphicon glyphicon-remove"
					ng-click="messages = ''" ng-show="messages"></i>
			</div>
			<img class="spinner" src="/img/ajax-loader.gif" ng-show="loading" />
		</div>
	</div>
	<div class="row" ng-init="init()">
		<div class="col-md-8">
			<h3>Create an event</h3>

			<form name="eventForm" novalidate role="form">
				<div class="form-group">
					<label for="group">Group</label> <select id="group"
						ng-model="group" ng-click="setWebsafeGroupKey()" name="group"
						ng-options="group.name for group in groups" class="form-control">
					</select>
				</div>
				
				<div class="form-group" ng-controller="DatepickerCtrl">
                    <label for="eventDate">Event Date</label>
                    <p class="input-group">
                        <input id="eventDate" type="text" class="form-control" datepicker-popup="{{format}}"
                               ng-model="event.eventDate" is-open="opened"
                               datepicker-options="dateOptions"
                               close-text="Close"/>
                    <span class="input-group-btn">
                        <button class="btn btn-default" ng-click="open($event)"><i
                                class="glyphicon glyphicon-calendar"></i>
                        </button>
                    </span>
                    </p>
                </div>

				<div class="form-group">
					<label for="location">Location</label>
					<textarea id="location" type="text" name="location"
						ng-model="event.location" class="form-control"></textarea>
				</div>

				<button ng-click="saveEvent(eventForm)" class="btn btn-primary"
					ng-disabled="!isValidEvent(eventForm) || loading">Create</button>
			</form>
		</div>
	</div>
</div>